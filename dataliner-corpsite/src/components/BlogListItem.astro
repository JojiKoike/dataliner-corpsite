---
import type { Media } from 'newt-client-js';
import type { Category } from '../types/blog/category';
import type { Tag } from '../types/blog/tag';
export interface Props {
  title: string;
  abstract: string;
  slug: string;
  category?: Category;
  tags: Tag[];
  coverImage?: Media;
}

const { title, slug, abstract, category, tags, coverImage } = Astro.props;
---

<!-- Blog Item -->
<div
  class="mb-5 flex flex-col overflow-hidden rounded-lg bg-white shadow-md sm:flex-row"
>
  <!-- Thumbnail -->
  <img
    src={coverImage?.src}
    alt={coverImage?.altText}
    class="h-48 w-full flex-shrink-0 object-cover sm:w-48"
  />

  <!-- Article Content -->
  <div class="flex flex-grow flex-col justify-between p-6">
    <!-- Title -->
    <h2 class="text-xl font-semibold text-blue-800 hover:text-blue-500">
      <a href=`/articles/${slug}`>{title}</a>
    </h2>
    <!-- Category -->
    <p class="mt-2 text-sm text-blue-600">
      Category: <span class="font-medium">{category?.name}</span>
    </p>
    <!-- Tags -->
    <div class="mt-3 flex flex-wrap items-center space-x-2">
      {
        tags.map((tag) => (
          <span class="rounded-full bg-blue-100 px-3 py-1 text-sm text-blue-700">
            {tag.name}
          </span>
        ))
      }
    </div>
    <!-- Description -->
    <p class="mt-4 line-clamp-3 text-gray-700">{abstract}</p>
  </div>
</div>
